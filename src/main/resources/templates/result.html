<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Analysis Result</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .result-page { padding: 40px 16px; }
        .result-summary { max-width: 880px; margin: 0 auto; }
        .url-checked { word-wrap: break-word; color: var(--white); }
        .finding-list { list-style: none; padding-left: 0; margin: 0; }
        .finding-list li { padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.04); }
        .finding-item.safe::before { content: '‚úÖ '; }
        .finding-item.danger::before { content: '‚ùå '; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">üîí PHISHING DETECTOR</div>
            <nav>
                <a href="/">Home</a>
                <a href="/dashboard.html">Dashboard</a>
                <a href="/developer.html">Developer</a>
                <a href="/about.html">About</a>
            </nav>
        </div>
    </header>

    <main class="result-page">
        <div class="result-summary card-strong">
            <h1 class="hero-headline text-yellow-400">Analysis Result</h1>
            <p class="mt-2">Checked URL:</p>
            <p class="url-checked card" th:text="${checkedUrl}"></p>

            <div th:if="${riskScore != null}" class="mt-4">
                <div th:if="${riskLevel == 'LOW'}" class="card mt-3">
                    <div class="result-flex">
                        <div><strong>Risk Level:</strong> <span class="verdict-safe" th:text="${riskLevel}"></span><div class="text-gray-400">‚úÖ Safe to proceed</div></div>
                        <div class="badge" th:text="'Score: ' + ${#numbers.formatDecimal(riskScore, 1, 2)}"></div>
                    </div>
                </div>

                <div th:if="${riskLevel == 'MEDIUM'}" class="card mt-3">
                    <div class="result-flex">
                        <div><strong>Risk Level:</strong> <span class="risk-medium" th:text="${riskLevel}"></span><div class="text-gray-400">‚ö†Ô∏è Exercise caution</div></div>
                        <div class="badge badge-medium" th:text="'Score: ' + ${#numbers.formatDecimal(riskScore, 1, 2)}"></div>
                    </div>
                </div>

                <div th:if="${riskLevel == 'HIGH'}" class="card mt-3">
                    <div class="result-flex">
                        <div><strong>Risk Level:</strong> <span class="verdict-danger" th:text="${riskLevel}"></span><div class="text-gray-400">üö® Likely malicious</div></div>
                        <div class="badge badge-danger" th:text="'Score: ' + ${#numbers.formatDecimal(riskScore, 1, 2)}"></div>
                    </div>
                </div>
            </div>

            <div th:if="${isPhishing}" class="mt-4 card">
                <h2 class="text-yellow-400">Verdict: Phishing Detected</h2>
                <p class="text-gray-400">The following red flags were found:</p>
                <ul class="finding-list">
                    <li th:each="reason : ${reasons}" th:text="${reason}" class="finding-item danger"></li>
                </ul>
            </div>

            <div th:if="${!isPhishing}" class="mt-4 card">
                <h2 class="text-yellow-400">Verdict: Appears Safe</h2>
                <p class="text-gray-400">The URL passed the following security checks:</p>
                <ul class="finding-list">
                    <li th:each="reason : ${reasons}" th:text="${reason}" class="finding-item safe"></li>
                </ul>
            </div>

            <div class="mt-6">
                <a href="/" class="btn btn-primary">Check another URL</a>
                <a href="/dashboard.html" class="btn btn-ghost btn-margin">View Dashboard</a>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container text-center">
            <p class="text-gray-400">Built with modular detection engine ¬∑ <a href="/developer.html" class="text-yellow-400">API Docs</a></p>
        </div>
    </footer>
</body>
</html>